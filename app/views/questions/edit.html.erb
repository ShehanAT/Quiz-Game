<h3 id="edit_question_title">Edit Question: <%= @question.question %></h3>
<%= form_with :url => question_path(@question.id), :question_id => @question.id, method: :put do |form| %>
<%= form.label :question, "Question: "  %>
<%= form.text_field :question %>
<br />
<%= form.label :answer1, "Answer 1: " %>
<%= form.text_field :answer1 %>
<br />
<%= form.label :answer2, "Answer 2: " %>
<%= form.text_field :answer2 %>
<br />
<%= form.label :answer3, "Answer 3: " %>
<%= form.text_field :answer3 %>
<br />
<%= form.label :answer4, "Answer 4: " %>
<%= form.text_field :answer4 %>
<br />
<%= label_tag(:correct_answer, "Correct Answer: ") %>
<label>
  <input type="checkbox" class="radio" value="1"  />Answer #1</label>
<label>
  <input type="checkbox" class="radio" value="2"  />Answer #2</label>
<label>
  <input type="checkbox" class="radio" value="3"  />Answer #3</label>
<label>
  <input type="checkbox" class="radio" value="4"  />Answer #4</label>
<br />
<%= hidden_field_tag "#{@question.question}", @question.question, { :id => "question_name"} %>
<%= hidden_field_tag :question_id, @question.id %>
<%= hidden_field_tag :question_quiz_id, @question.quiz_id %>
<%= hidden_field_tag :answer1_id, @answers[0]["id"] %>
<%= hidden_field_tag :answer2_id, @answers[1]["id"] %>
<%= hidden_field_tag :answer3_id, @answers[2]["id"] %>
<%= hidden_field_tag :answer4_id, @answers[3]["id"] %>
<%= hidden_field_tag :answer1_value, @answers[0]["answer"], :correct_answer => @answers[0]["correct_answer"] %>
<%= hidden_field_tag :answer2_value, @answers[1]["answer"], :correct_answer => @answers[1]["correct_answer"] %>
<%= hidden_field_tag :answer3_value, @answers[2]["answer"], :correct_answer => @answers[2]["correct_answer"] %>
<%= hidden_field_tag :answer4_value, @answers[3]["answer"], :correct_answer => @answers[3]["correct_answer"] %>
<%= form.submit "Update Question" %> 
<%= form.submit "Delete This Question" %>
<% end %>
<%= button_to "Back", question_path(@question.id), id:'back_link', method: :get %>


<script>
console.log($("#question_name").val());
(function loadFormValues(){
    $("#question").val($("#question_name").val());
    $("#answer1").val($("#answer1_value").val());
    $("#answer2").val($("#answer2_value").val());
    $("#answer3").val($("#answer3_value").val());
    $("#answer4").val($("#answer4_value").val());
    for(var i = 1; i <= 4; i++){
        if($(`#answer${i}_value`).attr("correct_answer") === "1"){
            $(`input[value='${i}'`).prop("checked", true);
        }
    }
}());
</script>