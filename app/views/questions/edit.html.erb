<h3 id="edit_question_title">Edit Question: <%= @question.question %></h3>
<%= form_with do |form| %>
<%= form.label :question, "Question: "  %>
<%= form.text_field :question %>
<br />
<%= form.label :answer1, "Answer 1: " %>
<%= form.text_field :answer1 %>
<br />
<%= form.label :answer2, "Answer 2: " %>
<%= form.text_field :answer2 %>
<br />
<%= form.label :answer3, "Answer 3: " %>
<%= form.text_field :answer3 %>
<br />
<%= form.label :answer4, "Answer 4: " %>
<%= form.text_field :answer4 %>
<br />
<%= label_tag(:correct_answer, "Correct Answer: ") %>
<label>
  <input type="checkbox" class="radio" value="1"  />Answer #1</label>
<label>
  <input type="checkbox" class="radio" value="2"  />Answer #2</label>
<label>
  <input type="checkbox" class="radio" value="3"  />Answer #3</label>
<label>
  <input type="checkbox" class="radio" value="4"  />Answer #4</label>
<br />
<%= form.submit "Update Question" %> 
<% end %>
<%= button_to "Back", question_path(@question.id), id:'back_link', method: :get %>
<%= hidden_field_tag "#{@question.question}", @question.question, { :id => "question_name"} %>
<%= hidden_field_tag "#{@answers[0]["answer"]}", @answers[0]["answer"], { :id => "answer1_value", :correct_answer => "#{@answers[0]["correct_answer"]}"} %>
<%= hidden_field_tag "#{@answers[1]["answer"]}", @answers[1]["answer"], { :id => "answer2_value", :correct_answer => "#{@answers[1]["correct_answer"]}"} %>
<%= hidden_field_tag "#{@answers[2]["answer"]}", @answers[2]["answer"], { :id => "answer3_value", :correct_answer => "#{@answers[2]["correct_answer"]}"} %>
<%= hidden_field_tag "#{@answers[3]["answer"]}", @answers[3]["answer"], { :id => "answer4_value", :correct_answer => "#{@answers[3]["correct_answer"]}"} %>

<script>
console.log($("#question_name").val());
(function loadFormValues(){
    $("#question").val($("#question_name").val());
    $("#answer1").val($("#answer1_value").val());
    $("#answer2").val($("#answer2_value").val());
    $("#answer3").val($("#answer3_value").val());
    $("#answer4").val($("#answer4_value").val());
    for(var i = 1; i <= 4; i++){
        if($(`#answer${i}_value`).attr("correct_answer") === "1"){
            $(`input[value='${i}'`).prop("checked", true);
        }
    }
}());
</script>